<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="mahmood" />
<meta name="description" content="inferring a transformation matrix for linear interpolation" />
<meta name="generator" content="Org Mode" />
<title>linearly mapping an interval onto another</title><!-- lambda icon, frail attempt -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%221em%22 font-size=%22100%22 color=%22red%22>Î»</text></svg>">
<!-- not-so-awesome awesome font -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<link rel="stylesheet" href="/main.css">
</head>
<body>
<div id="preamble" class="status">
<div class="navbar">
  <a href='/'>home</a>
  <a href='/blog.html'>blog</a>
  <a href='/archive.html'>archive</a>
  <a href='/about.html'>about</a>
</div><h1 class="main-title">linearly mapping an interval onto another</h1><span class="desc">inferring a transformation matrix for linear interpolation</span>
</div>
<div id="content" class="content">
<p>
basically the idea is that, given an real interval <img src="ltx/b257da194d2.svg" alt="\([a,b]\)" style="height: 1.0784em; vertical-align: -0.2942em; display: inline-block" class="org-latex org-latex-inline" /> and the number <img src="ltx/42c32b034ca.svg" alt="\(x\)" style="height: 0.5203em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /> such that <img src="ltx/e2fea96c37f.svg" alt="\(a \le x \le b\)" style="height: 0.9122em; vertical-align: -0.1824em; display: inline-block" class="org-latex org-latex-inline" /> and another interval <img src="ltx/f43e7268f55.svg" alt="\([c,d]\)" style="height: 1.0784em; vertical-align: -0.2942em; display: inline-block" class="org-latex org-latex-inline" />, we wanna find the number <img src="ltx/56bf399e4b4.svg" alt="\(x'\)" style="height: 0.8351em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /> such that <img src="ltx/5f4d30ea00a.svg" alt="\(\frac{x'-c}{d-c}=\frac{x-a}{b-a}\)" style="height: 1.4718em; vertical-align: -0.4688em; display: inline-block" class="org-latex org-latex-inline" />
we need to isolate <img src="ltx/56bf399e4b4.svg" alt="\(x'\)" style="height: 0.8351em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" />:
</p>

<div class="equation-container">
<span class="equation">
<img src="ltx/bce8f2b1caa.svg" alt="\begin{gather*}
  x'b-x'a-cb+ca=xd-xc-ad+ac\\
  x'b-x'a-cb+\cancel{ca}=xd-xc-ad+\cancel{ac}\\
  x'b-x'a-cb=xd-xc-ad\\
  x'b-x'a=xd-xc-ad+cb\\
  x'(b-a)=xd-xc-ad+cb\\
  \boxed{x'=\frac{xd-xc-ad+cb}{b-a}}
\end{gather*}
" style="height: 10.6630em; vertical-align: -0.5392em; display: inline-block" class="org-latex org-latex-inline" />
</span>
</div>
<div id="outline-container-orgbc5c656" class="outline-2">
<h2 id="orgbc5c656">extending to higher dimensions</h2>
<div class="outline-text-2" id="text-orgbc5c656">
<p>
assume a vector space <img src="ltx/93fe0d8d932.svg" alt="\(V\)" style="height: 0.7680em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /> with a dimension of <img src="ltx/8beccc902ab.svg" alt="\(n\)" style="height: 0.5203em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" />, given the 2 sets of real intervals
</p>

<div class="equation-container">
<span class="equation">
<img src="ltx/caaa3652dc9.svg" alt="\begin{align*}
  S&amp;amp;=\{[s_{1a},s_{1b}],[s_{2a,2b}],\dots,[s_{na},s_{nb}]\} &amp;amp;\text{source intervals}\\
  D&amp;amp;=\{[d_{1a},d_{1b}],[d_{2a,2b}],\dots,[d_{na},d_{nb}]\} &amp;amp;\text{destination intervals}
\end{align*}
" style="height: 3.0972em; vertical-align: -0.4020em; display: inline-block" class="org-latex org-latex-inline" />
</span>
</div>
<p>
and a vector <img src="ltx/6ba2a58546d.svg" alt="\(\brm{x} \in V\)" style="height: 0.8063em; vertical-align: -0.0875em; display: inline-block" class="org-latex org-latex-inline" />:
<img src="ltx/fc6f6298ef0.svg" alt="\[ \brm{x} = \pmqty{x_1\\ x_2\\ \vdots\\ x_n} \]" style="height: 6.0764em; display: block" class="org-latex org-latex-block" />
where <img src="ltx/a528a476531.svg" alt="\(x_j\)" style="height: 0.8007em; vertical-align: -0.3296em; display: inline-block" class="org-latex org-latex-inline" /> for all <img src="ltx/2c4165e4a96.svg" alt="\(1 \le j \le n\)" style="height: 0.9353em; vertical-align: -0.2397em; display: inline-block" class="org-latex org-latex-inline" /> is bound in the interval <img src="ltx/64ead69495e.svg" alt="\([s_{ja},s_{jb}]\)" style="height: 1.1138em; vertical-align: -0.3296em; display: inline-block" class="org-latex org-latex-inline" />, i.e.
</p>


<div class="equation-container">
<span class="equation">
<img src="ltx/290a48bfa7c.svg" alt="\begin{gather*}
  s_{1a} \le x_1 \le s_{1b}\\
  s_{2a} \le x_2 \le s_{2b}\\
  \vdots\\
  s_{na} \le x_n \le s_{nb}
\end{gather*}
" style="height: 6.7879em; vertical-align: -0.4020em; display: inline-block" class="org-latex org-latex-inline" />
</span>
</div>
<p>
we wanna find the vector <img src="ltx/60534e56394.svg" alt="\(\brm{v}\)" style="height: 0.5224em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" />:
<img src="ltx/92e1200209c.svg" alt="\[ \brm{v} = \pmqty{v_1\\ v_2\\ \vdots\\ v_n} \]" style="height: 6.0764em; display: block" class="org-latex org-latex-block" />
such that
</p>

<div class="equation-container">
<span class="equation">
<img src="ltx/6cf22ae6321.svg" alt="\begin{align*}
  v_1 &amp;amp;= \frac{x_1d_{1b}-x_1d_{1a}-s_{1a}d_{1b}+d_{1a}s_{1b}}{s_{1b}-s_{1a}}\\
  v_2 &amp;amp;= \frac{x_2d_{2b}-x_2d_{2a}-s_{2a}d_{2b}+d_{2a}s_{2b}}{s_{2b}-s_{2a}}\\
  &amp;amp;\hspace{1.5 mm} \vdots\\
  v_n &amp;amp;= \frac{x_nd_{nb}-x_nd_{na}-s_{na}d_{nb}+d_{na}s_{nb}}{s_{nb}-s_{na}}
\end{align*}
" style="height: 9.6893em; vertical-align: -0.5392em; display: inline-block" class="org-latex org-latex-inline" />
</span>
</div>
<p>
so we write the linear transformation (might not be necessarily linear but affine)
<img src="ltx/68481f8b3bc.svg" alt="\[ L\left(\pmqty{x_1\\ x_2\\ \vdots\\ x_n}\right) = \pmqty{
  \frac{x_1d_{1b}-x_1d_{1a}-s_{1a}d_{1b}+d_{1a}s_{1b}}{s_{1b}-s_{1a}}\\
  \frac{x_2d_{2b}-x_2d_{2a}-s_{2a}d_{2b}+d_{2a}s_{2b}}{s_{2b}-s_{2a}}\\
  \hspace{1.5 mm} \vdots\\
  \frac{x_nd_{nb}-x_nd_{na}-s_{na}d_{nb}+d_{na}s_{nb}}{s_{nb}-s_{na}}} \]" style="height: 6.6644em; display: block" class="org-latex org-latex-block" />
obviously this function doesnt preserve the origin as <img src="ltx/5e73b91dc41.svg" alt="\(L(\vec{0})\neq \vec{0}\)" style="height: 1.2387em; vertical-align: -0.2942em; display: inline-block" class="org-latex org-latex-inline" />, so its an affine transformation, we separate the intercept so we can drop it and add it later:
<img src="ltx/fafbfaff79e.svg" alt="\[ L\left(\pmqty{x_1\\ x_2\\ \vdots\\ x_n}\right) = \pmqty{
  \frac{x_1d_{1b}-x_1d_{1a}}{s_{1b}-s_{1a}}\\
  \frac{x_2d_{2b}-x_2d_{2a}}{s_{2b}-s_{2a}}\\
  \hspace{1.5 mm} \vdots\\
  \frac{x_nd_{nb}-x_nd_{na}}{s_{nb}-s_{na}}} +
  \pmqty{\frac{-s_{1a}d_{1b}+d_{1a}s_{1b}}{s_{1b}-s_{1a}}\\
  \frac{-s_{2a}d_{2b}+d_{2a}s_{2b}}{s_{2b}-s_{2a}}\\
  \hspace{1.5 mm} \vdots\\
  \frac{-s_{na}d_{nb}+d_{na}s_{nb}}{s_{nb}-s_{na}}} \]" style="height: 6.6644em; display: block" class="org-latex org-latex-block" />
we drop the intercept and find the transformation matrix of the function without it, which is a square matrix of size <img src="ltx/73f5e01c906.svg" alt="\(n \times n\)" style="height: 0.7517em; vertical-align: -0.1309em; display: inline-block" class="org-latex org-latex-inline" />
<img src="ltx/5a14622f324.svg" alt="\[ \pmqty{
\frac{d_{1b}-d_{1a}}{s_{1b}-s_{1a}} &amp;amp; 0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0\\
0 &amp;amp; \frac{d_{2b}-d_{2a}}{s_{2b}-s_{2a}} &amp;amp; 0 &amp;amp; \ddots &amp;amp; 0\\
0 &amp;amp; 0 &amp;amp; \ddots &amp;amp; \ddots &amp;amp; \vdots\\
\vdots &amp;amp; \ddots &amp;amp; \ddots &amp;amp; \ddots &amp;amp; 0\\
0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0 &amp;amp; \frac{d_{nb}-d_{na}}{s_{nb}-s_{na}}\\
} \]" style="height: 8.4284em; display: block" class="org-latex org-latex-block" />
</p>
<div class="math-block note" data-before="note" data-after="" id="org7ddaf68">
<p>
im taking it for granted that the <img src="ltx/4257eeb78bb.svg" alt="\(L\)" style="height: 0.7680em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /> without the intercept is linear, in reality we need to check if the properties of a linear function are preserved in <img src="ltx/4257eeb78bb.svg" alt="\(L\)" style="height: 0.7680em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" />
</p>

</div>
<p>
then we add the intercept with homogeneous coordinates to get the final matrix, which is a square matrix of size <img src="ltx/a1b1986a5a0.svg" alt="\((n+1) \times (n+1)\)" style="height: 1.0784em; vertical-align: -0.2942em; display: inline-block" class="org-latex org-latex-inline" />
<img src="ltx/630a7b732c7.svg" alt="\[ \pmqty{
\frac{d_{1b}-d_{1a}}{s_{1b}-s_{1a}} &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0 &amp;amp; \frac{-s_{1a}d_{1b}+d_{1a}s_{1b}}{s_{1b}-s_{1a}}\\
0 &amp;amp; \frac{d_{2b}-d_{2a}}{s_{2b}-s_{2a}} &amp;amp; \cdots &amp;amp; 0 &amp;amp; \frac{-s_{2a}d_{2b}+d_{2a}s_{2b}}{s_{2b}-s_{2a}}\\
\vdots &amp;amp; \vdots &amp;amp; \ddots &amp;amp; \vdots &amp;amp; \vdots\\
0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; \frac{d_{nb}-d_{na}}{s_{nb}-s_{na}} &amp;amp; \frac{-s_{na}d_{nb}+d_{na}s_{nb}}{s_{nb}-s_{na}}\\
0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0 &amp;amp; 1\\
} \]" style="height: 7.2524em; display: block" class="org-latex org-latex-block" />
so to conclude, the formula
<img src="ltx/30d0edd975f.svg" alt="\[ \pmqty{v_1\\ v_2\\ \vdots\\ v_n\\ 1} = \pmqty{
\frac{d_{1b}-d_{1a}}{s_{1b}-s_{1a}} &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0 &amp;amp; \frac{-s_{1a}d_{1b}+d_{1a}s_{1b}}{s_{1b}-s_{1a}}\\
0 &amp;amp; \frac{d_{2b}-d_{2a}}{s_{2b}-s_{2a}} &amp;amp; \cdots &amp;amp; 0 &amp;amp; \frac{-s_{2a}d_{2b}+d_{2a}s_{2b}}{s_{2b}-s_{2a}}\\
\vdots &amp;amp; \vdots &amp;amp; \ddots &amp;amp; \vdots &amp;amp; \vdots\\
0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; \frac{d_{nb}-d_{na}}{s_{nb}-s_{na}} &amp;amp; \frac{-s_{na}d_{nb}+d_{na}s_{nb}}{s_{nb}-s_{na}}\\
0 &amp;amp; 0 &amp;amp; \cdots &amp;amp; 0 &amp;amp; 1\\
} \cdot \pmqty{x_1\\ x_2\\ \vdots\\ x_n\\ 1} \]" style="height: 7.2524em; display: block" class="org-latex org-latex-block" />
transforms the vector <img src="ltx/27d63a9e373.svg" alt="\(\brm{x}\)" style="height: 0.5224em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /> from a given set of intervals onto another, resulting in <img src="ltx/60534e56394.svg" alt="\(\brm{v}\)" style="height: 0.5224em; vertical-align: -0.0492em; display: inline-block" class="org-latex org-latex-inline" /></p>
</div>
</div>
</div>
</body>
</html>
